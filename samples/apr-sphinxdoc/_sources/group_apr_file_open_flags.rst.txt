.. index:: pair: group; File Open Flags/Routines
.. _doxid-group__apr__file__open__flags:
.. _cid-apr_file_open_flags:

File Open Flags/Routines
========================

.. toctree::
	:hidden:



Overview
~~~~~~~~



.. ref-code-block:: cpp
	:class: overview-code-block

	// macros

	#define :ref:`APR_APPEND<doxid-group__apr__file__open__flags_1ga26d3de2bae5c90e5124869f56c141c2e>`
	#define :ref:`APR_BINARY<doxid-group__apr__file__open__flags_1ga0e7556bac0cc0d1dafdf38952a4e4015>`
	#define :ref:`APR_BUFFERED<doxid-group__apr__file__open__flags_1ga6edc818199e8b90e3dabf97c42a27158>`
	#define :ref:`APR_CREATE<doxid-group__apr__file__open__flags_1gac210e96bc821dbaa83c326e775dad028>`
	#define :ref:`APR_DELONCLOSE<doxid-group__apr__file__open__flags_1gaebc7f034a72dffe64858b1b9451994ff>`
	#define :ref:`APR_EXCL<doxid-group__apr__file__open__flags_1ga209c26b2b903cc23417f6781d4edf891>`
	#define :ref:`APR_FILE_NOCLEANUP<doxid-group__apr__file__open__flags_1ga3ef1061dbb3adf595701bd12edb062f9>`
	#define :ref:`APR_FOPEN_APPEND<doxid-group__apr__file__open__flags_1ga45f353db9b71d4760a3f35cf3781cfc8>`
	#define :ref:`APR_FOPEN_BINARY<doxid-group__apr__file__open__flags_1gacb20b3028864f34cb26314fe2cacc3fa>`
	#define :ref:`APR_FOPEN_BUFFERED<doxid-group__apr__file__open__flags_1gac48fd4c853c9f561632a2e8aaf5d8d97>`
	#define :ref:`APR_FOPEN_CREATE<doxid-group__apr__file__open__flags_1gafe94f21ccbf411172e70e7f473af251a>`
	#define :ref:`APR_FOPEN_DELONCLOSE<doxid-group__apr__file__open__flags_1ga5d3756f6d242c667ed1d3f54af4916eb>`
	#define :ref:`APR_FOPEN_EXCL<doxid-group__apr__file__open__flags_1gabb7fb062cdf1d58faee8c7ea518496f1>`
	#define :ref:`APR_FOPEN_LARGEFILE<doxid-group__apr__file__open__flags_1gaf6cfaa4789e6264afd186235f0adbc22>`
	#define :ref:`APR_FOPEN_NOCLEANUP<doxid-group__apr__file__open__flags_1ga3fc9b5a7791d9f462997cd29de67eb80>`
	#define :ref:`APR_FOPEN_NONBLOCK<doxid-group__apr__file__open__flags_1ga31e4d14068147e43e1778bcf975dda62>`
	#define :ref:`APR_FOPEN_READ<doxid-group__apr__file__open__flags_1gaf9e7303f028b130ff7d4b209d6662d7d>`
	#define :ref:`APR_FOPEN_SENDFILE_ENABLED<doxid-group__apr__file__open__flags_1ga60c21e28e4a612d58a874fe2cc71a6e4>`
	#define :ref:`APR_FOPEN_SHARELOCK<doxid-group__apr__file__open__flags_1ga426f6e2a8457ab410d99248269059a18>`
	#define :ref:`APR_FOPEN_SPARSE<doxid-group__apr__file__open__flags_1ga0d155e9bb7fbf1a5cd4e84b5ede059f4>`
	#define :ref:`APR_FOPEN_TRUNCATE<doxid-group__apr__file__open__flags_1ga09b05a5bd5db534b93794f7657bcb146>`
	#define :ref:`APR_FOPEN_WRITE<doxid-group__apr__file__open__flags_1gac598bb95fc9476b0bf2ed0b1c308842c>`
	#define :ref:`APR_FOPEN_XTHREAD<doxid-group__apr__file__open__flags_1ga435cd9b2604b11796779c23ffa00a3dd>`
	#define :ref:`APR_LARGEFILE<doxid-group__apr__file__open__flags_1gaafa04fd4ec71910a5d7af1c7f5596bad>`
	#define :ref:`APR_READ<doxid-group__apr__file__open__flags_1ga0021db78d799d1c8825b701c7efee483>`
	#define :ref:`APR_SENDFILE_ENABLED<doxid-group__apr__file__open__flags_1ga17e216aadb23254580258889e10c53f3>`
	#define :ref:`APR_SHARELOCK<doxid-group__apr__file__open__flags_1ga41277154f4f754a22287ed90e9466811>`
	#define :ref:`APR_TRUNCATE<doxid-group__apr__file__open__flags_1gaa8898fdebd69d3a64286731b713a6dc9>`
	#define :ref:`APR_WRITE<doxid-group__apr__file__open__flags_1ga3e427e53aceb1ccdb078d9a03cd63d01>`
	#define :ref:`APR_XTHREAD<doxid-group__apr__file__open__flags_1gaa9120c0e395d8a0e640b5eafa8f11cce>`

.. _details-doxid-group__apr__file__open__flags:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~



Macros
------

.. _doxid-group__apr__file__open__flags_1ga26d3de2bae5c90e5124869f56c141c2e:
.. _cid-apr_append:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_APPEND

Deprecated



.. rubric:: See also:

:ref:`APR_FOPEN_APPEND <doxid-group__apr__file__open__flags_1ga45f353db9b71d4760a3f35cf3781cfc8>`

.. _doxid-group__apr__file__open__flags_1ga0e7556bac0cc0d1dafdf38952a4e4015:
.. _cid-apr_binary:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_BINARY

Deprecated



.. rubric:: See also:

:ref:`APR_FOPEN_BINARY <doxid-group__apr__file__open__flags_1gacb20b3028864f34cb26314fe2cacc3fa>`

.. _doxid-group__apr__file__open__flags_1ga6edc818199e8b90e3dabf97c42a27158:
.. _cid-apr_buffered:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_BUFFERED

Deprecated



.. rubric:: See also:

:ref:`APR_FOPEN_BUFFERED <doxid-group__apr__file__open__flags_1gac48fd4c853c9f561632a2e8aaf5d8d97>`

.. _doxid-group__apr__file__open__flags_1gac210e96bc821dbaa83c326e775dad028:
.. _cid-apr_create:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_CREATE

Deprecated



.. rubric:: See also:

:ref:`APR_FOPEN_CREATE <doxid-group__apr__file__open__flags_1gafe94f21ccbf411172e70e7f473af251a>`

.. _doxid-group__apr__file__open__flags_1gaebc7f034a72dffe64858b1b9451994ff:
.. _cid-apr_delonclose:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_DELONCLOSE

Deprecated



.. rubric:: See also:

:ref:`APR_FOPEN_DELONCLOSE <doxid-group__apr__file__open__flags_1ga5d3756f6d242c667ed1d3f54af4916eb>`

.. _doxid-group__apr__file__open__flags_1ga209c26b2b903cc23417f6781d4edf891:
.. _cid-apr_excl:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_EXCL

Deprecated



.. rubric:: See also:

:ref:`APR_FOPEN_EXCL <doxid-group__apr__file__open__flags_1gabb7fb062cdf1d58faee8c7ea518496f1>`

.. _doxid-group__apr__file__open__flags_1ga3ef1061dbb3adf595701bd12edb062f9:
.. _cid-apr_file_nocleanup:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_FILE_NOCLEANUP

Deprecated



.. rubric:: See also:

:ref:`APR_FOPEN_NOCLEANUP <doxid-group__apr__file__open__flags_1ga3fc9b5a7791d9f462997cd29de67eb80>`

.. _doxid-group__apr__file__open__flags_1ga45f353db9b71d4760a3f35cf3781cfc8:
.. _cid-apr_fopen_append:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_FOPEN_APPEND

Append to the end of the file

.. _doxid-group__apr__file__open__flags_1gacb20b3028864f34cb26314fe2cacc3fa:
.. _cid-apr_fopen_binary:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_FOPEN_BINARY

Open the file in binary mode (This flag is ignored on UNIX because it has no meaning)

.. _doxid-group__apr__file__open__flags_1gac48fd4c853c9f561632a2e8aaf5d8d97:
.. _cid-apr_fopen_buffered:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_FOPEN_BUFFERED

Open the file for buffered I/O

.. _doxid-group__apr__file__open__flags_1gafe94f21ccbf411172e70e7f473af251a:
.. _cid-apr_fopen_create:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_FOPEN_CREATE

Create the file if not there

.. _doxid-group__apr__file__open__flags_1ga5d3756f6d242c667ed1d3f54af4916eb:
.. _cid-apr_fopen_delonclose:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_FOPEN_DELONCLOSE

Delete the file after close

.. _doxid-group__apr__file__open__flags_1gabb7fb062cdf1d58faee8c7ea518496f1:
.. _cid-apr_fopen_excl:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_FOPEN_EXCL

Open should fail if :ref:`APR_FOPEN_CREATE <doxid-group__apr__file__open__flags_1gafe94f21ccbf411172e70e7f473af251a>` and file exists.

.. _doxid-group__apr__file__open__flags_1gaf6cfaa4789e6264afd186235f0adbc22:
.. _cid-apr_fopen_largefile:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_FOPEN_LARGEFILE

Platform dependent flag to enable large file support, see WARNING below

APR_FOPEN_LARGEFILE flag only has effect on some platforms where sizeof(apr_off_t) == 4. Where implemented, it allows opening and writing to a file which exceeds the size which can be represented by apr_off_t (2 gigabytes). When a file's size does exceed 2Gb, :ref:`apr_file_info_get() <doxid-group__apr__file__io_1ga39be7fe05d0dda4a28f4358b61a44ac8>` will fail with an error on the descriptor, likewise :ref:`apr_stat() <doxid-group__apr__file__stat_1gafb0f4a4fa4545c155e20ddd8f2001c1a>` /apr_lstat() will fail on the filename. :ref:`apr_dir_read() <doxid-group__apr__dir_1ga3e4ee253e0c712160bee10bfb9c8e4a8>` will fail with :ref:`APR_INCOMPLETE <doxid-group___a_p_r___error_1ga64dff43b83bcefd3f3c751be6b864ca1>` on a directory entry for a large file depending on the particular APR_FINFO_\* flags. Generally, it is not recommended to use this flag.

.. _doxid-group__apr__file__open__flags_1ga3fc9b5a7791d9f462997cd29de67eb80:
.. _cid-apr_fopen_nocleanup:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_FOPEN_NOCLEANUP

Do not register a cleanup when the file is opened. The apr_os_file_t handle in apr_file_t will not be closed when the pool is destroyed.

.. _doxid-group__apr__file__open__flags_1ga31e4d14068147e43e1778bcf975dda62:
.. _cid-apr_fopen_nonblock:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_FOPEN_NONBLOCK

Platform dependent flag to enable non blocking file io

APR_FOPEN_NONBLOCK is not implemented on all platforms. Callers should be prepared for it to fail with :ref:`APR_ENOTIMPL <doxid-group___a_p_r___error_1ga939ddb834a30bc9a5a0a329b13000161>` .

.. _doxid-group__apr__file__open__flags_1gaf9e7303f028b130ff7d4b209d6662d7d:
.. _cid-apr_fopen_read:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_FOPEN_READ

Open the file for reading

.. _doxid-group__apr__file__open__flags_1ga60c21e28e4a612d58a874fe2cc71a6e4:
.. _cid-apr_fopen_sendfile_enabled:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_FOPEN_SENDFILE_ENABLED

Advisory flag that this file should support apr_socket_sendfile operation

.. _doxid-group__apr__file__open__flags_1ga426f6e2a8457ab410d99248269059a18:
.. _cid-apr_fopen_sharelock:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_FOPEN_SHARELOCK

Platform dependent support for higher level locked read/write access to support writes across process/machines

.. _doxid-group__apr__file__open__flags_1ga0d155e9bb7fbf1a5cd4e84b5ede059f4:
.. _cid-apr_fopen_sparse:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_FOPEN_SPARSE

Platform dependent flag to enable sparse file support, see WARNING below

APR_FOPEN_SPARSE may, depending on platform, convert a normal file to a sparse file. Some applications may be unable to decipher a sparse file, so it's critical that the sparse file flag should only be used for files accessed only by APR or other applications known to be able to decipher them. APR does not guarantee that it will compress the file into sparse segments if it was previously created and written without the sparse flag. On platforms which do not understand, or on file systems which cannot handle sparse files, the flag is ignored by :ref:`apr_file_open() <doxid-group__apr__file__io_1gabda14cbf242fb4fe99055434213e5446>` .

.. _doxid-group__apr__file__open__flags_1ga09b05a5bd5db534b93794f7657bcb146:
.. _cid-apr_fopen_truncate:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_FOPEN_TRUNCATE

Open the file and truncate to 0 length

.. _doxid-group__apr__file__open__flags_1gac598bb95fc9476b0bf2ed0b1c308842c:
.. _cid-apr_fopen_write:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_FOPEN_WRITE

Open the file for writing

.. _doxid-group__apr__file__open__flags_1ga435cd9b2604b11796779c23ffa00a3dd:
.. _cid-apr_fopen_xthread:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_FOPEN_XTHREAD

Platform dependent tag to open the file for use across multiple threads

.. _doxid-group__apr__file__open__flags_1gaafa04fd4ec71910a5d7af1c7f5596bad:
.. _cid-apr_largefile:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_LARGEFILE

Deprecated



.. rubric:: See also:

:ref:`APR_FOPEN_LARGEFILE <doxid-group__apr__file__open__flags_1gaf6cfaa4789e6264afd186235f0adbc22>`

.. _doxid-group__apr__file__open__flags_1ga0021db78d799d1c8825b701c7efee483:
.. _cid-apr_read:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_READ

Deprecated



.. rubric:: See also:

:ref:`APR_FOPEN_READ <doxid-group__apr__file__open__flags_1gaf9e7303f028b130ff7d4b209d6662d7d>`

.. _doxid-group__apr__file__open__flags_1ga17e216aadb23254580258889e10c53f3:
.. _cid-apr_sendfile_enabled:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_SENDFILE_ENABLED

Deprecated



.. rubric:: See also:

:ref:`APR_FOPEN_SENDFILE_ENABLED <doxid-group__apr__file__open__flags_1ga60c21e28e4a612d58a874fe2cc71a6e4>`

.. _doxid-group__apr__file__open__flags_1ga41277154f4f754a22287ed90e9466811:
.. _cid-apr_sharelock:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_SHARELOCK

Deprecated



.. rubric:: See also:

:ref:`APR_FOPEN_SHARELOCK <doxid-group__apr__file__open__flags_1ga426f6e2a8457ab410d99248269059a18>`

.. _doxid-group__apr__file__open__flags_1gaa8898fdebd69d3a64286731b713a6dc9:
.. _cid-apr_truncate:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_TRUNCATE

Deprecated



.. rubric:: See also:

:ref:`APR_FOPEN_TRUNCATE <doxid-group__apr__file__open__flags_1ga09b05a5bd5db534b93794f7657bcb146>`

.. _doxid-group__apr__file__open__flags_1ga3e427e53aceb1ccdb078d9a03cd63d01:
.. _cid-apr_write:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_WRITE

Deprecated



.. rubric:: See also:

:ref:`APR_FOPEN_WRITE <doxid-group__apr__file__open__flags_1gac598bb95fc9476b0bf2ed0b1c308842c>`

.. _doxid-group__apr__file__open__flags_1gaa9120c0e395d8a0e640b5eafa8f11cce:
.. _cid-apr_xthread:
.. ref-code-block:: cpp
	:class: title-code-block

	#define APR_XTHREAD

Deprecated



.. rubric:: See also:

:ref:`APR_FOPEN_XTHREAD <doxid-group__apr__file__open__flags_1ga435cd9b2604b11796779c23ffa00a3dd>`

