.. index:: pair: struct; apr_sockaddr_t
.. _doxid-structapr__sockaddr__t:
.. _cid-apr_sockaddr_t:

struct apr_sockaddr_t
=====================

.. toctree::
	:hidden:

.. code-block:: cpp
	:class: overview-code-block

	#include <apr_network_io.h>


Overview
~~~~~~~~

APRs socket address type, used to ensure protocol independence :ref:`More...<details-doxid-structapr__sockaddr__t>`

.. ref-code-block:: cpp
	:class: overview-code-block

	// fields

	:ref:`apr_pool_t<doxid-group__apr__pools_1gaf137f28edcf9a086cd6bc36c20d7cdfb>`* :ref:`pool<doxid-structapr__sockaddr__t_1a5f2d72a6a181cf2f54ba7c922aa0dfab>`
	char* :ref:`hostname<doxid-structapr__sockaddr__t_1a8e675775b407f25674aaa938a40de9cd>`
	char* :ref:`servname<doxid-structapr__sockaddr__t_1a668335161a8347b9a34c600bff80b52f>`
	:ref:`apr_port_t<doxid-group__apr__network__io_1gaa670a71960f6eb4fe0d0de2a1e7aba03>` :ref:`port<doxid-structapr__sockaddr__t_1a174c19138de9c208f13ed71b5892e505>`
	apr_int32_t :ref:`family<doxid-structapr__sockaddr__t_1ac17f6e803928cfc29069a6e62dcb3a52>`
	apr_socklen_t :ref:`salen<doxid-structapr__sockaddr__t_1aef1d2a482f85eeab7b6bf0a7732a087a>`
	int :ref:`ipaddr_len<doxid-structapr__sockaddr__t_1a81be21b2eb968b83ca36183213c99867>`
	int :ref:`addr_str_len<doxid-structapr__sockaddr__t_1a8f7cda5562e904a1398ed5a4a6f0a9d9>`
	void* :ref:`ipaddr_ptr<doxid-structapr__sockaddr__t_1a6e1b71121ada4047acde36c6777b5442>`
	:ref:`apr_sockaddr_t<doxid-structapr__sockaddr__t>`* :ref:`next<doxid-structapr__sockaddr__t_1a774835c6b8e3adf255b752e8b126c434>`

	union
	{
	    struct sockaddr_in :ref:`sin<doxid-structapr__sockaddr__t_1a7d5cf0290260c3c448360fc819b28714>`
	    struct sockaddr_in6 :ref:`sin6<doxid-structapr__sockaddr__t_1ab3a1f900d2a1e58d337a61d99e94d3f9>`
	    struct sockaddr_storage :ref:`sas<doxid-structapr__sockaddr__t_1ac823daa30be02ee1589b4b67615cef5f>`
	} :ref:`sa<doxid-structapr__sockaddr__t_1a3ca40eae640100e0f157e7c21b33a17d>`

.. _details-doxid-structapr__sockaddr__t:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

APRs socket address type, used to ensure protocol independence

Fields
------

.. _doxid-structapr__sockaddr__t_1a5f2d72a6a181cf2f54ba7c922aa0dfab:
.. _cid-apr_sockaddr_t::pool:
.. ref-code-block:: cpp
	:class: title-code-block

	:ref:`apr_pool_t<doxid-group__apr__pools_1gaf137f28edcf9a086cd6bc36c20d7cdfb>`* pool

The pool to use...

.. _doxid-structapr__sockaddr__t_1a8e675775b407f25674aaa938a40de9cd:
.. _cid-apr_sockaddr_t::hostname:
.. ref-code-block:: cpp
	:class: title-code-block

	char* hostname

The hostname

.. _doxid-structapr__sockaddr__t_1a668335161a8347b9a34c600bff80b52f:
.. _cid-apr_sockaddr_t::servname:
.. ref-code-block:: cpp
	:class: title-code-block

	char* servname

Either a string of the port number or the service name for the port

.. _doxid-structapr__sockaddr__t_1a174c19138de9c208f13ed71b5892e505:
.. _cid-apr_sockaddr_t::port:
.. ref-code-block:: cpp
	:class: title-code-block

	:ref:`apr_port_t<doxid-group__apr__network__io_1gaa670a71960f6eb4fe0d0de2a1e7aba03>` port

The numeric port

.. _doxid-structapr__sockaddr__t_1ac17f6e803928cfc29069a6e62dcb3a52:
.. _cid-apr_sockaddr_t::family:
.. ref-code-block:: cpp
	:class: title-code-block

	apr_int32_t family

The family

.. _doxid-structapr__sockaddr__t_1aef1d2a482f85eeab7b6bf0a7732a087a:
.. _cid-apr_sockaddr_t::salen:
.. ref-code-block:: cpp
	:class: title-code-block

	apr_socklen_t salen

How big is the sockaddr we're using?

.. _doxid-structapr__sockaddr__t_1a81be21b2eb968b83ca36183213c99867:
.. _cid-apr_sockaddr_t::ipaddr_len:
.. ref-code-block:: cpp
	:class: title-code-block

	int ipaddr_len

How big is the ip address structure we're using?

.. _doxid-structapr__sockaddr__t_1a8f7cda5562e904a1398ed5a4a6f0a9d9:
.. _cid-apr_sockaddr_t::addr_str_len:
.. ref-code-block:: cpp
	:class: title-code-block

	int addr_str_len

How big should the address buffer be? 16 for v4 or 46 for v6 used in inet_ntop...

.. _doxid-structapr__sockaddr__t_1a6e1b71121ada4047acde36c6777b5442:
.. _cid-apr_sockaddr_t::ipaddr_ptr:
.. ref-code-block:: cpp
	:class: title-code-block

	void* ipaddr_ptr

This points to the IP address structure within the appropriate sockaddr structure.

.. _doxid-structapr__sockaddr__t_1a774835c6b8e3adf255b752e8b126c434:
.. _cid-apr_sockaddr_t::next:
.. ref-code-block:: cpp
	:class: title-code-block

	:ref:`apr_sockaddr_t<doxid-structapr__sockaddr__t>`* next

If multiple addresses were found by :ref:`apr_sockaddr_info_get() <doxid-group__apr__network__io_1gaa2f399ca2b60b35c0abf7630298c6c9f>` , this points to a representation of the next address.

.. _doxid-structapr__sockaddr__t_1a7d5cf0290260c3c448360fc819b28714:
.. _cid-apr_sockaddr_t::sin:
.. ref-code-block:: cpp
	:class: title-code-block

	struct sockaddr_in sin

IPv4 sockaddr structure

.. _doxid-structapr__sockaddr__t_1ab3a1f900d2a1e58d337a61d99e94d3f9:
.. _cid-apr_sockaddr_t::sin6:
.. ref-code-block:: cpp
	:class: title-code-block

	struct sockaddr_in6 sin6

IPv6 sockaddr structure

.. _doxid-structapr__sockaddr__t_1ac823daa30be02ee1589b4b67615cef5f:
.. _cid-apr_sockaddr_t::sas:
.. ref-code-block:: cpp
	:class: title-code-block

	struct sockaddr_storage sas

Placeholder to ensure that the size of this union is not dependent on whether APR_HAVE_IPV6 is defined.

.. _doxid-structapr__sockaddr__t_1a3ca40eae640100e0f157e7c21b33a17d:
.. _cid-apr_sockaddr_t::sa:
.. ref-code-block:: cpp
	:class: title-code-block

	unnamed-union sa

Union of either IPv4 or IPv6 sockaddr.

